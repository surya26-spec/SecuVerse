<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phishing Detector // SHIELD_ACTIVE</title>
    <!-- Use fresh cache buster -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v=20260124_v11">
    <style>
        .phishing-container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
            padding-top: 5vh;
            position: relative;
            z-index: 2;
        }

        .result-box {
            margin-top: 40px;
            padding: 2.5rem;
            background: var(--bg-panel);
            border: 1px solid var(--border-bright);
            box-shadow: 0 0 20px var(--neon-green-dim);
            transform: translateY(20px);
            opacity: 0;
            animation: slideUp 0.6s forwards;
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .score-bar {
            height: 15px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid var(--text-muted);
            margin: 25px 0;
            position: relative;
        }

        .score-fill {
            height: 100%;
            transition: width 1.5s;
            background: var(--neon-green);
            box-shadow: 0 0 10px var(--neon-green);
        }

        .details-list li {
            margin-bottom: 12px;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: var(--font-main);
        }

        .details-list li::before {
            content: '>';
            color: var(--neon-green);
        }

        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <!-- Background Effects -->
    <div class="mesh-gradient"></div>
    <div class="scanlines"></div>

    <div class="phishing-container">
        <!-- Navigation -->
        <div
            style="margin-bottom: 3rem; display: flex; justify-content: center; gap: 15px; background: rgba(0,0,0,0.8); padding: 10px; border: 1px solid var(--text-muted); display: inline-flex;">
            <a href="/" class="nav-link">ANALYZER</a>
            <a href="/dashboard" class="nav-link">DASHBOARD</a>
            <a href="/honeypot" class="nav-link">HONEYPOT</a>
            <span class="nav-link active">PHISHING_SHIELD</span>
        </div>

        <header style="margin-bottom: 3rem;">
            <div class="badge" style="margin-bottom: 1rem;">AI_POWERED_SECURITY</div>
            <h1 class="glitch" data-text="PHISHING_SHIELD"
                style="font-size: 4rem; line-height: 1.1; margin-bottom: 1rem;">
                PHISHING_SHIELD
            </h1>
            <p
                style="color: var(--text-muted); font-size: 1.2rem; max-width: 600px; margin: 0 auto; font-family: var(--font-main);">
                Advanced URL analysis using deep learning patterns to detect malicious websites in real-time.
            </p>
        </header>

        <!-- Glass Card Form -->
        <div class="glass-spotlight"
            style="padding: 3rem; max-width: 800px; margin: 0 auto; border: 1px solid var(--neon-green);">
            <form action="/phishing" method="POST">
                <div class="modern-input-group">
                    <input type="text" name="url" class="modern-input" placeholder=" " id="url-input"
                        value="{{ url if url else '' }}" autocomplete="off"
                        style="padding: 1.2rem 1rem; font-size: 1.1rem;">
                    <label for="url-input" class="modern-label">PASTE_SUSPICIOUS_URL_HERE</label>
                </div>

                <button type="submit" class="cyber-btn" style="width: 100%; margin-top: 1rem; font-size: 1.5rem;">
                    ANALYZE_URL
                </button>
            </form>
        </div>

        {% if result %}
        <div class="result-box"
            style="border-color: {{ 'var(--neon-green)' if result == 'Safe' else 'var(--neon-red)' }}; box-shadow: 0 0 20px {{ 'var(--neon-green-dim)' if result == 'Safe' else 'var(--neon-red-dim)' }};">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; gap: 20px;">
                    <div style="
                        width: 80px; height: 80px; 
                        border: 2px solid {{ 'var(--neon-green)' if result == 'Safe' else 'var(--neon-red)' }};
                        display: flex; align-items: center; justify-content: center;
                        font-size: 3rem;
                        background: {{ 'rgba(57, 255, 20, 0.1)' if result == 'Safe' else 'rgba(255, 7, 58, 0.1)' }};
                    ">
                        {{ 'OK' if result == 'Safe' else '!!' }}
                    </div>
                    <div>
                        <h2
                            style="margin: 0; font-size: 2.5rem; color: {{ 'var(--neon-green)' if result == 'Safe' else 'var(--neon-red)' }}; text-shadow: 0 0 10px {{ 'var(--neon-green)' if result == 'Safe' else 'var(--neon-red)' }};">
                            {{ 'SAFE_WEBSITE' if result == 'Safe' else 'PHISHING_DETECTED' }}
                        </h2>
                        <span style="color: var(--text-muted); font-weight: 500; font-family: var(--font-main);">
                            {{ 'VERIFIED_SECURE' if result == 'Safe' else 'HIGH_RISK_DETECTED' }}
                        </span>
                    </div>
                </div>

                <div style="text-align: right;">
                    <div
                        style="font-size: 3rem; font-weight: 800; color: {{ 'var(--neon-green)' if result == 'Safe' else 'var(--neon-red)' }};">
                        {{ probability }}%
                    </div>
                    <div style="color: var(--text-muted); font-size: 0.9rem; letter-spacing: 1px;">
                        CONFIDENCE_LEVEL
                    </div>
                </div>
            </div>

            <div class="score-bar">
                <div class="score-fill"
                    style="width: {{ probability }}%; 
                           background: {{ 'var(--neon-green)' if result == 'Phishing' else 'var(--neon-red)' }};
                           box-shadow: 0 0 10px {{ 'var(--neon-green)' if result == 'Phishing' else 'var(--neon-red)' }};">
                </div>
            </div>

            {% if details %}
            <div style="margin-top: 2rem;">
                <h4
                    style="color: var(--neon-cyan); margin-bottom: 1rem; border-bottom: 1px dashed var(--text-muted); padding-bottom: 10px;">
                    ANALYSIS_DETAILS
                </h4>
                <ul class="details-list">
                    {% for detail in details %}
                    <li>{{ detail }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <div
                style="margin-top: 2rem; padding: 1.5rem; background: rgba(0,0,0,0.5); border: 1px solid var(--text-muted);">
                <p style="margin: 0; line-height: 1.6; color: var(--text-main); font-family: var(--font-main);">
                    AI_REPORT:
                    <span style="color: white;">
                        {% if result == 'Safe' %}
                        The URL structure follows standard patterns and shows no signs of obfuscation or malicious
                        intent. System marks as CLEAR.
                        {% else %}
                        The URL contains suspicious patterns consistent with known phishing attacks. ACCESS DENIED
                        recommended.
                        {% endif %}
                    </span>
                </p>
            </div>
        </div>
        {% endif %}
    </div>

    <script>
        // No extra script needed as CSS handles scanlines and fonts
    </script>
</body>

</html>